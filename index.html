<!DOCTYPE HTML>
<html>
    <head>
	<script type="text/javascript" src="jquery.js"></script>
        <style>
            body { margin: 0px; padding: 0px; font-size:10pt; font-family:Arial}
            #colortest {border: 1px solid #9C9898; width:50px; height:50px;}
            .div1 {width:200px;}
            .div2 {width:500px; padding: 30px}
            .div3 {width:300px;}
            .left {float:left;}
            .right {float:right;}
            p.field { background-color:#efefef; padding:5px; width:180px;}
        </style>
	
    </head>
    <body>
	<div class="left div1">
		
	</div>
	<div class="left div2">
	<canvas id="canvas" width="500" height="500" style="border: 1px solid #CCC;">
		This text is displayed if your browser does not support HTML5 Canvas.
	</canvas>
	</div>
	<div class="right div3">
	 	<h1>A selectable wheel</h1>
		<p>Using js, jquery, json</p>
		<h3>Color</h3>
		<div id="colortest"></div>
		<p class="field" id="colorname">Color Name</p>
		<h3>Legend</h3>
		<p class="field" id="legend">Emotion Name</p>

	</div>
	<script type="text/javascript" src="canvas.js"></script>
	<script type="text/javascript" src="jquery.js"></script>

	<script type="text/javascript">

	// initialize our canvas 
	var s = new CanvasState(document.getElementById('canvas'));

	// use jQuery to parse jSon config file
	jQuery(function($) {

	// get data
	$.getJSON('test.json', function(data) {         
		   
		$.each(data.wheels, function(key, val) {
		  
		   var colors = [];
		   var legends = [];
		   for(i =0;i < val.numberSegments*2;i++) {
		   	var seg = val.segments[i];
			// console.log(seg.color);
			colors.push(seg.color);
			legends.push(seg.legend);
		   }
	 	
	// all our shapes to canvas
  	for(j=0; j<val.numberSegments*2 ;j++) {
	// console.log(colors[j]);
	 s.addShape(
		new Shape(
			0,//cx
			0,//cy
			val.insideRadius, // iR
			val.outsideRadius, // oR
			j, // pos
			val.numberSegments,// nb
			colors[j],//fill
			legends[j] // legend
			// val.textRadius,
		)); 
	}

		 }); // end each

	}); // end Json

	}) // end document
	</script>

    </body>
</html>

